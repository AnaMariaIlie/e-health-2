{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ana\\\\Downloads\\\\lab2ehealth\\\\ehealth2\\\\src\\\\Patients.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { render } from 'react-dom';\nimport ReactPaginate from 'react-paginate';\nimport './App.css';\nimport ShowPatient from './ShowPatient';\nimport SearchField from \"react-search-field\";\nexport default class Patients extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handlePageClick = e => {\n      const selectedPage = e.selected;\n      const offset = selectedPage * this.state.perPage;\n      this.setState({\n        currentPage: selectedPage,\n        offset: offset\n      }, () => {\n        this.receivedData();\n      });\n    };\n\n    this.handlePageChange = e => {\n      const selectedPage = e.selected;\n      const offset = selectedPage * this.state.perPage;\n      this.setState({\n        currentPage: selectedPage,\n        offset: offset\n      }, () => {\n        this.receivedDataSearch(e);\n      });\n    };\n\n    this.state = {\n      offset: 0,\n      data: [],\n      perPage: 10,\n      currentPage: 0\n    };\n    this.handlePageClick = this.handlePageClick.bind(this);\n  }\n\n  handlePatient(bd) {\n    render( /*#__PURE__*/React.createElement(ShowPatient, {\n      item: bd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 26,\n        columnNumber: 15\n      }\n    }), document.getElementById('root'));\n  }\n\n  handleSearchPatient(bd) {\n    render( /*#__PURE__*/React.createElement(ShowPatient, {\n      item: bd,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"challenge-node\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 42\n      }\n    }));\n  }\n\n  receivedData() {\n    axios.get(`http://hapi.fhir.org/baseR4/Patient?_format=json&_pretty=true`).then(res => {\n      var data = [];\n\n      for (let i = 0; i < res.data.entry.length; i++) {\n        if (res.data.entry[i].resource && res.data.entry[i].resource.name) {\n          data.push(res.data.entry[i]);\n        }\n      }\n\n      const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage);\n      const postData = slice.map(pd => /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 50\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        onClick: () => this.handlePatient(pd),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }\n      }, pd.resource.name[0].family + \" \" + pd.resource.name[0].given)));\n      this.setState({\n        pageCount: Math.ceil(data.length / this.state.perPage),\n        postData\n      });\n    });\n  }\n\n  receivedDataSearch(searchText) {\n    axios.get(`http://hapi.fhir.org/baseR4/Patient?_format=json&_pretty=true`).then(res => {\n      var data = [];\n\n      for (let i = 0; i < res.data.entry.length; i++) {\n        if (res.data.entry[i].resource && res.data.entry[i].resource.name) {\n          if (res.data.entry[i].resource.name[0].family === searchText) {\n            data.push(res.data.entry[i]);\n            console.log(res.data.entry[i]);\n          }\n        }\n      }\n\n      const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage);\n      const postData = slice.map(pd => /*#__PURE__*/React.createElement(React.Fragment, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 54\n        }\n      }, /*#__PURE__*/React.createElement(\"p\", {\n        onClick: () => this.handleSearchPatient(pd),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 25\n        }\n      }, pd.resource.name[0].family + \" \" + pd.resource.name[0].given)));\n      this.setState({\n        pageCount: Math.ceil(data.length / this.state.perPage),\n        postData\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.receivedData();\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(SearchField, {\n      placeholder: \"Search...\",\n      onChange: this.handlePageChange,\n      searchText: \"This is initial search text\",\n      classNames: \"test-class\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      id: \"paginate\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 13\n      }\n    }, this.state.postData, /*#__PURE__*/React.createElement(ReactPaginate, {\n      previousLabel: \"prev\",\n      nextLabel: \"next\",\n      breakLabel: \"...\",\n      breakClassName: \"break-me\",\n      pageCount: this.state.pageCount,\n      marginPagesDisplayed: 2,\n      pageRangeDisplayed: 5,\n      onPageChange: this.handlePageClick,\n      containerClassName: \"pagination\",\n      subContainerClassName: \"pages pagination\",\n      activeClassName: \"active\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 17\n      }\n    })));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Ana/Downloads/lab2ehealth/ehealth2/src/Patients.js"],"names":["React","Component","axios","render","ReactPaginate","ShowPatient","SearchField","Patients","constructor","props","handlePageClick","e","selectedPage","selected","offset","state","perPage","setState","currentPage","receivedData","handlePageChange","receivedDataSearch","data","bind","handlePatient","bd","document","getElementById","handleSearchPatient","get","then","res","i","entry","length","resource","name","push","slice","postData","map","pd","family","given","pageCount","Math","ceil","searchText","console","log","componentDidMount"],"mappings":"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","sourcesContent":["import React, {Component} from 'react'\r\nimport axios from 'axios'\r\nimport { render } from 'react-dom';\r\nimport ReactPaginate from 'react-paginate';\r\nimport './App.css';\r\nimport ShowPatient from './ShowPatient';\r\nimport SearchField from \"react-search-field\";\r\n\r\n\r\nexport default class Patients extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            offset: 0,\r\n            data: [],\r\n            perPage: 10,\r\n            currentPage: 0\r\n        };\r\n        this.handlePageClick = this\r\n            .handlePageClick\r\n            .bind(this);\r\n\r\n    }\r\n\r\n    handlePatient(bd) {\r\n       render(<ShowPatient item={bd} />, document.getElementById('root'));\r\n    }\r\n\r\n    handleSearchPatient(bd) {\r\n       render(<ShowPatient item={bd} />, <div id=\"challenge-node\"></div>);\r\n    }\r\n\r\n    receivedData() {\r\n        axios\r\n            .get(`http://hapi.fhir.org/baseR4/Patient?_format=json&_pretty=true`)\r\n            .then(res => {\r\n\r\n                var data = []\r\n                for (let i = 0; i < res.data.entry.length; i++) {\r\n                    if (res.data.entry[i].resource && res.data.entry[i].resource.name) {\r\n                        data.push(res.data.entry[i])\r\n                    }\r\n                }\r\n\r\n                const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage)\r\n\r\n                const postData = slice.map(pd => <React.Fragment>\r\n                    <p onClick={() => this.handlePatient(pd)}>{pd.resource.name[0].family + \" \" + pd.resource.name[0].given}</p>\r\n                </React.Fragment>)\r\n\r\n                this.setState({\r\n                    pageCount: Math.ceil(data.length / this.state.perPage),\r\n                    postData\r\n                })\r\n            });\r\n    }\r\n\r\n    handlePageClick = (e) => {\r\n        const selectedPage = e.selected;\r\n        const offset = selectedPage * this.state.perPage;\r\n\r\n        this.setState({\r\n            currentPage: selectedPage,\r\n            offset: offset\r\n        }, () => {\r\n            this.receivedData()\r\n        });\r\n\r\n    };\r\n\r\n        receivedDataSearch(searchText) {\r\n            axios\r\n                .get(`http://hapi.fhir.org/baseR4/Patient?_format=json&_pretty=true`)\r\n                .then(res => {\r\n\r\n                    var data = []\r\n                    for (let i = 0; i < res.data.entry.length; i++) {\r\n                        if (res.data.entry[i].resource && res.data.entry[i].resource.name) {\r\n\r\n                            if (res.data.entry[i].resource.name[0].family === searchText) {\r\n                                  data.push(res.data.entry[i])\r\n                                  console.log(res.data.entry[i])\r\n                            }\r\n\r\n                        }\r\n                    }\r\n\r\n                    const slice = data.slice(this.state.offset, this.state.offset + this.state.perPage)\r\n\r\n                    const postData = slice.map(pd => <React.Fragment>\r\n                        <p onClick={() => this.handleSearchPatient(pd)}>{pd.resource.name[0].family + \" \" + pd.resource.name[0].given}</p>\r\n                    </React.Fragment>)\r\n\r\n                    this.setState({\r\n                        pageCount: Math.ceil(data.length / this.state.perPage),\r\n                        postData\r\n                    })\r\n                });\r\n        }\r\n\r\n    handlePageChange = (e) => {\r\n        const selectedPage = e.selected;\r\n        const offset = selectedPage * this.state.perPage;\r\n\r\n        this.setState({\r\n            currentPage: selectedPage,\r\n            offset: offset\r\n        }, () => {\r\n            this.receivedDataSearch(e)\r\n        });\r\n\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.receivedData()\r\n    }\r\n    render() {\r\n\r\n        return (\r\n        <div>\r\n            <div>\r\n            <SearchField\r\n              placeholder=\"Search...\"\r\n              onChange={this.handlePageChange}\r\n              searchText=\"This is initial search text\"\r\n              classNames=\"test-class\"\r\n            />\r\n            </div>\r\n            <div id=\"paginate\">\r\n                {this.state.postData}\r\n                <ReactPaginate\r\n                    previousLabel={\"prev\"}\r\n                    nextLabel={\"next\"}\r\n                    breakLabel={\"...\"}\r\n                    breakClassName={\"break-me\"}\r\n                    pageCount={this.state.pageCount}\r\n                    marginPagesDisplayed={2}\r\n                    pageRangeDisplayed={5}\r\n                    onPageChange={this.handlePageClick}\r\n                    containerClassName={\"pagination\"}\r\n                    subContainerClassName={\"pages pagination\"}\r\n                    activeClassName={\"active\"}/>\r\n            </div>\r\n        </div>\r\n        )\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}